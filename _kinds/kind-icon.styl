kind-icon()
  @extends $kind-icon-base

  $size = utilus_get(arguments, 'size')
  $image = utilus_get_string(arguments)
  $align = utilus_retrieve(arguments, baseline top bottom)

  if !$size and $image
    $size = image-size($image, true)

  if $align
    vertical-align: $align

  if $size
    $width = $size[0]
    $height = $size[1]

    if replace-image in arguments
      @extends $kind-icon-replaced-base
      padding: 0 $width $height 0
    else
      width: $width
      height $height

  if $image
    background-image: url($image)


// Base styles for all icons
$kind-icon-base
  kind-block(inline middle)

  margin-top: -4px // Or this should be in em?

  background: 50% no-repeat

// Base styles for replaced icons (on `<img/>`)
$kind-icon-replaced-base
  content: ""

  width: 0
  height 0
